System.register(["jimu-core","jimu-arcgis"],(function(e,t){var a={},o={};return{setters:[function(e){a.DataSourceManager=e.DataSourceManager,a.React=e.React},function(e){o.JimuMapViewComponent=e.JimuMapViewComponent}],execute:function(){e((()=>{var e={2686:e=>{"use strict";e.exports=o},9244:e=>{"use strict";e.exports=a}},t={};function r(a){var o=t[a];if(void 0!==o)return o.exports;var n=t[a]={exports:{}};return e[a](n,n.exports,r),n.exports}r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="";var n={};return r.p=window.jimuConfig.baseUrl,(()=>{"use strict";r.r(n),r.d(n,{__set_webpack_public_path__:()=>c,default:()=>o});var e=r(9244),t=r(2686);const{useState:a}=e.React,o=o=>{var r;const[n,c]=a();return e.React.createElement("div",{className:"widget-demo"},o.useMapWidgetIds&&1===o.useMapWidgetIds.length&&e.React.createElement(t.JimuMapViewComponent,{useMapWidgetId:null===(r=o.useMapWidgetIds)||void 0===r?void 0:r[0],onActiveViewChange:e=>{e&&c(e)}}),e.React.createElement("div",null,e.React.createElement("button",{onClick:t=>{t.preventDefault(),console.log(),console.log("YAY Button Pressed");const a=e.DataSourceManager.getInstance();a.createAllDataSources().then((()=>{if(o.useDataSources.length>=1)for(let e=0;e<o.useDataSources.length;e++){const t=o.useDataSources[e],r=a.getDataSource(t.dataSourceId).type;console.log(r);const c=t.dataSourceId+"_copy_"+Date.now()+"_"+Math.floor(1e4*Math.random()),s=Object.assign(Object.assign({},t),{dataSourceId:c});a.createDataSourceByUseDataSource(s).then((e=>{"FEATURE_LAYER"===r?n&&(console.log("Map Exists, Adding Layer (copy)"),n.addLayerAndCreateJimuLayerView(e.layer,e)):"FEATURE_SERVICE"===r&&e.childDataSourcesReady().then((()=>{e.getAllChildDataSources().forEach((e=>{e.createJSAPILayerByDataSource(e).then((t=>{n&&t&&"loaded"in t&&(console.log("ADDED (copy)"),n.addLayerAndCreateJimuLayerView(t,e))}))}))}))}))}else console.log("Sorry you have no data")}))}},o.config.buttonName)))};function c(e){r.p=e}})(),n})())}}}));